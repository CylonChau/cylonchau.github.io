<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>理解ldap - OpenLDAP客户端命令行使用 | Cylon's Collection</title>
<meta name=keywords content="ldap,linux,ldap命令行使用"><meta name=description content='ldapsearch 查询api ldapsearch ldapsearch命令参数说明 语法
text 1 ldapsearch [options] filter [attributes] 参数 说 明 -W 指定密码，交互式，不需要在命令上写密码 -w 指定密码，需要命令上指定密码 -H ldapapi -D 所绑定的服务器的DN，如cn=admin,dc=etiantian,dc=org -f -f: filename.ldif文件 -b -b 指定作为查询节点而不是默认的 -LLL 以LDIF格式打印响应，不带注释 -x 简单的认证 简单的搜索 最简单的在查询ldap条目的最简单方法是使用带有 “-x” 选项进行简单身份验证，并使用 “-b” 指定搜索域。
bash 1 $ ldapsearch -x -b <search_base> -H <ldap_host> 例如向 10.0.0.3 上openldap服务查询，该命令需要服务器接受匿名身份验证，这将可以查询而无需绑定管理员帐户
bash 1 $ ldapsearch -x -b "dc=test,dc=com" -H ldap://10.0.0.3 使用管理员账户进行搜索 使用管理员帐户进行搜索，必须使用backend配置的 RootDN 并在命令行使用 “-D” 选项 和 “-W” ，如果要使用非交互式认证，使用选项 “-w”
bash 1 $ ldapsearch -x -b <search_base> -H <ldap_host> -D <bind_dn> -W 例如，上章在安装时配置了RootDN：“ cn=admin,dc=test,dc=com ”。如果要使用此帐户执行搜索，可以使用命令'><meta name=author content="cylon"><link rel=canonical href=https://www.oomkill.com/2019/08/ch3-commandline/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://www.oomkill.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.oomkill.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.oomkill.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.oomkill.com/favicon.ico><link rel=mask-icon href=https://www.oomkill.com/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://www.oomkill.com/2019/08/ch3-commandline/><noscript><style>#theme-toggle,#top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link crossorigin=anonymous href=/assets/css/pe.min.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/pe.min.js></script><link rel=stylesheet href=https://cdn.staticfile.net/font-awesome/6.5.1/css/all.min.css><link rel=stylesheet href=https://cdn.staticfile.net/font-awesome/6.5.1/css/v4-shims.min.css><script id=MathJax-script async src=https://cdn.staticfile.net/mathjax/3.2.2/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["$$","$$"]],inlineMath:[["\\$","\\$"]]}}</script><meta property="og:title" content="理解ldap - OpenLDAP客户端命令行使用"><meta property="og:description" content='ldapsearch 查询api ldapsearch ldapsearch命令参数说明 语法
text 1 ldapsearch [options] filter [attributes] 参数 说 明 -W 指定密码，交互式，不需要在命令上写密码 -w 指定密码，需要命令上指定密码 -H ldapapi -D 所绑定的服务器的DN，如cn=admin,dc=etiantian,dc=org -f -f: filename.ldif文件 -b -b 指定作为查询节点而不是默认的 -LLL 以LDIF格式打印响应，不带注释 -x 简单的认证 简单的搜索 最简单的在查询ldap条目的最简单方法是使用带有 “-x” 选项进行简单身份验证，并使用 “-b” 指定搜索域。
bash 1 $ ldapsearch -x -b <search_base> -H <ldap_host> 例如向 10.0.0.3 上openldap服务查询，该命令需要服务器接受匿名身份验证，这将可以查询而无需绑定管理员帐户
bash 1 $ ldapsearch -x -b "dc=test,dc=com" -H ldap://10.0.0.3 使用管理员账户进行搜索 使用管理员帐户进行搜索，必须使用backend配置的 RootDN 并在命令行使用 “-D” 选项 和 “-W” ，如果要使用非交互式认证，使用选项 “-w”
bash 1 $ ldapsearch -x -b <search_base> -H <ldap_host> -D <bind_dn> -W 例如，上章在安装时配置了RootDN：“ cn=admin,dc=test,dc=com ”。如果要使用此帐户执行搜索，可以使用命令'><meta property="og:type" content="article"><meta property="og:url" content="https://www.oomkill.com/2019/08/ch3-commandline/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-08-27T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-28T23:00:36+08:00"><meta property="og:site_name" content="Cylon's Collection"><meta name=twitter:card content="summary"><meta name=twitter:title content="理解ldap - OpenLDAP客户端命令行使用"><meta name=twitter:description content='ldapsearch 查询api ldapsearch ldapsearch命令参数说明 语法
text 1 ldapsearch [options] filter [attributes] 参数 说 明 -W 指定密码，交互式，不需要在命令上写密码 -w 指定密码，需要命令上指定密码 -H ldapapi -D 所绑定的服务器的DN，如cn=admin,dc=etiantian,dc=org -f -f: filename.ldif文件 -b -b 指定作为查询节点而不是默认的 -LLL 以LDIF格式打印响应，不带注释 -x 简单的认证 简单的搜索 最简单的在查询ldap条目的最简单方法是使用带有 “-x” 选项进行简单身份验证，并使用 “-b” 指定搜索域。
bash 1 $ ldapsearch -x -b <search_base> -H <ldap_host> 例如向 10.0.0.3 上openldap服务查询，该命令需要服务器接受匿名身份验证，这将可以查询而无需绑定管理员帐户
bash 1 $ ldapsearch -x -b "dc=test,dc=com" -H ldap://10.0.0.3 使用管理员账户进行搜索 使用管理员帐户进行搜索，必须使用backend配置的 RootDN 并在命令行使用 “-D” 选项 和 “-W” ，如果要使用非交互式认证，使用选项 “-w”
bash 1 $ ldapsearch -x -b <search_base> -H <ldap_host> -D <bind_dn> -W 例如，上章在安装时配置了RootDN：“ cn=admin,dc=test,dc=com ”。如果要使用此帐户执行搜索，可以使用命令'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.oomkill.com/posts/"},{"@type":"ListItem","position":2,"name":"理解ldap - OpenLDAP客户端命令行使用","item":"https://www.oomkill.com/2019/08/ch3-commandline/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"理解ldap - OpenLDAP客户端命令行使用","name":"理解ldap - OpenLDAP客户端命令行使用","description":"ldapsearch 查询api ldapsearch ldapsearch命令参数说明 语法\ntext 1 ldapsearch [options] filter [attributes] 参数 说 明 -W 指定密码，交互式，不需要在命令上写密码 -w 指定密码，需要命令上指定密码 -H ldapapi -D 所绑定的服务器的DN，如cn=admin,dc=etiantian,dc=org -f -f: filename.ldif文件 -b -b 指定作为查询节点而不是默认的 -LLL 以LDIF格式打印响应，不带注释 -x 简单的认证 简单的搜索 最简单的在查询ldap条目的最简单方法是使用带有 “-x” 选项进行简单身份验证，并使用 “-b” 指定搜索域。\nbash 1 $ ldapsearch -x -b \u0026lt;search_base\u0026gt; -H \u0026lt;ldap_host\u0026gt; 例如向 10.0.0.3 上openldap服务查询，该命令需要服务器接受匿名身份验证，这将可以查询而无需绑定管理员帐户\nbash 1 $ ldapsearch -x -b \u0026#34;dc=test,dc=com\u0026#34; -H ldap://10.0.0.3 使用管理员账户进行搜索 使用管理员帐户进行搜索，必须使用backend配置的 RootDN 并在命令行使用 “-D” 选项 和 “-W” ，如果要使用非交互式认证，使用选项 “-w”\nbash 1 $ ldapsearch -x -b \u0026lt;search_base\u0026gt; -H \u0026lt;ldap_host\u0026gt; -D \u0026lt;bind_dn\u0026gt; -W 例如，上章在安装时配置了RootDN：“ cn=admin,dc=test,dc=com ”。如果要使用此帐户执行搜索，可以使用命令","keywords":["ldap","linux","ldap命令行使用"],"articleBody":"ldapsearch 查询api ldapsearch ldapsearch命令参数说明 语法\ntext 1 ldapsearch [options] filter [attributes] 参数 说 明 -W 指定密码，交互式，不需要在命令上写密码 -w 指定密码，需要命令上指定密码 -H ldapapi -D 所绑定的服务器的DN，如cn=admin,dc=etiantian,dc=org -f -f: filename.ldif文件 -b -b 指定作为查询节点而不是默认的 -LLL 以LDIF格式打印响应，不带注释 -x 简单的认证 简单的搜索 最简单的在查询ldap条目的最简单方法是使用带有 “-x” 选项进行简单身份验证，并使用 “-b” 指定搜索域。\nbash 1 $ ldapsearch -x -b -H 例如向 10.0.0.3 上openldap服务查询，该命令需要服务器接受匿名身份验证，这将可以查询而无需绑定管理员帐户\nbash 1 $ ldapsearch -x -b \"dc=test,dc=com\" -H ldap://10.0.0.3 使用管理员账户进行搜索 使用管理员帐户进行搜索，必须使用backend配置的 RootDN 并在命令行使用 “-D” 选项 和 “-W” ，如果要使用非交互式认证，使用选项 “-w”\nbash 1 $ ldapsearch -x -b -H -D -W 例如，上章在安装时配置了RootDN：“ cn=admin,dc=test,dc=com ”。如果要使用此帐户执行搜索，可以使用命令\nbash 1 $ ldapsearch -x -b \"dc=test,dc=com\" -H ldap://10.0.0.3 -D \"cn=admin,dc=test,dc=com\" -W 使用过滤器进行搜索 上述讲到的查询方法，是进行全局查询，会输出所有的条目，这样浪费了时间和资源，在大多数情况下，都希望查询以在特定的目录树中查找特定对象。而 ”过滤器“ filter 就是为了解决这个问题的。\n要使用过滤器搜索，需要在 ldapsearch 命令的末尾附加 filter 公式：=\nbash 1 $ ldapsearch \"(object_type)=(object_value)\" 例如查找所有对象，可以使用过滤器 objectclass 并且值为 ”*“ ，\nbash 1 $ ldapsearch -x -b -H -D -W \"objectclass=*\" 查找特定的用户 如果查询目录树上的所有用户账户，如上一章初始化数据时，初始化的用户账户类为 ”posixAccount“ ，可以通过 ”posixAccount“ 来缩小查询范围\nbash 1 ldapsearch -x -b -H -D -W \"objectclass=posixAccount\" 如果每个条目输出的内容多的情况下，也可以输出的属性值来进一步缩小搜索范围，例如只需要 uid 与 gidNumber\nbash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 $ ldapsearch -x -b \"dc=test,dc=com\" -H ldap://10.0.0.3 -D \"cn=admin,dc=test,dc=com\" -w 111 \"objectclass=posixAccount\" uid gidNumber # extended LDIF # # LDAPv3 # base ","wordCount":"1719","inLanguage":"zh","datePublished":"2019-08-27T00:00:00Z","dateModified":"2022-11-28T23:00:36+08:00","author":{"@type":"Person","name":"cylon"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.oomkill.com/2019/08/ch3-commandline/"},"publisher":{"@type":"Organization","name":"Cylon's Collection","logo":{"@type":"ImageObject","url":"https://www.oomkill.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.oomkill.com/><img src=https://www.oomkill.com/favicon.ico alt aria-label=logo height=20>Cylon's Collection</a><div class=logo-switches><button id=theme-toggle><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.oomkill.com/archives><span>归档</span></a></li><li><a href=https://www.oomkill.com/tags><span>标签</span></a></li><li><a href=https://www.oomkill.com/search><span>搜索</span></a></li><li><a href=https://www.oomkill.com/about accesskey=/><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">理解ldap - OpenLDAP客户端命令行使用</h1><div class=post-meta><span class=pe-post-meta-item><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>2019-08-27</span></span>&nbsp;·&nbsp;<span class=pe-post-meta-item><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text" style="user-select:text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z" style="user-select:text"/><polyline points="14 2 14 8 20 8" style="user-select:text"/><line x1="16" y1="13" x2="8" y2="13" style="user-select:text"/><line x1="16" y1="17" x2="8" y2="17" style="user-select:text"/><polyline points="10 9 9 9 8 9" style="user-select:text"/></svg><span>1719 字</span></span>&nbsp;·&nbsp;<span class=pe-post-meta-item><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><span>9 分钟</span></span>
<span class=pe-post-meta-item>&nbsp;·&nbsp;<svg t="1714036239378" fill="currentcolor" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="6659" width="256" height="256"><path d="M690 78.2c-18.6-18.8-49-19-67.8-.4s-19 49-.4 67.8l255.4 258.6c67.8 68.6 67.8 178.8.0 247.4L653.4 878.2c-18.6 18.8-18.4 49.2.4 67.8s49.2 18.4 67.8-.4l224-226.4c104.8-106 104.8-276.4.0-382.4L690 78.2zM485.4 101.4c-24-24-56.6-37.4-90.6-37.4H96C43 64 0 107 0 160v299c0 34 13.4 66.6 37.4 90.6l336 336c50 50 131 50 181 0l267-267c50-50 50-131 0-181l-336-336zM96 160h299c8.4.0 16.6 3.4 22.6 9.4l336 336c12.4 12.4 12.4 32.8.0 45.2l-267 267c-12.4 12.4-32.8 12.4-45.2.0l-336-336c-6-6-9.4-14.2-9.4-22.6V160zm192 128a64 64 0 10-128 0 64 64 0 10128 0z" p-id="6660"/></svg></span><ul class=pe-post-meta-item><a href=https://www.oomkill.com/tags/ldap/>#Ldap</a>
<a href=https://www.oomkill.com/tags/databases/>#Databases</a></ul></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details><summary><span class=details>目录</span></summary><div class=inner><ul><li><a href=#ldapsearch aria-label=ldapsearch>ldapsearch</a><li><a href=#%e6%9f%a5%e8%af%a2api-ldapsearch aria-label="查询api ldapsearch">查询api ldapsearch</a><ul><li><a href=#ldapsearch%e5%91%bd%e4%bb%a4%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e aria-label=ldapsearch命令参数说明>ldapsearch命令参数说明</a><li><a href=#%e7%ae%80%e5%8d%95%e7%9a%84%e6%90%9c%e7%b4%a2 aria-label=简单的搜索>简单的搜索</a><li><a href=#%e4%bd%bf%e7%94%a8%e7%ae%a1%e7%90%86%e5%91%98%e8%b4%a6%e6%88%b7%e8%bf%9b%e8%a1%8c%e6%90%9c%e7%b4%a2 aria-label=使用管理员账户进行搜索>使用管理员账户进行搜索</a><li><a href=#%e4%bd%bf%e7%94%a8%e8%bf%87%e6%bb%a4%e5%99%a8%e8%bf%9b%e8%a1%8c%e6%90%9c%e7%b4%a2 aria-label=使用过滤器进行搜索>使用过滤器进行搜索</a><li><a href=#%e6%9f%a5%e6%89%be%e7%89%b9%e5%ae%9a%e7%9a%84%e7%94%a8%e6%88%b7 aria-label=查找特定的用户>查找特定的用户</a><li><a href=#%e4%bd%bf%e7%94%a8%e8%bf%90%e7%ae%97%e7%ac%a6%e8%bf%9b%e8%a1%8c%e7%ad%9b%e9%80%89%e6%90%9c%e7%b4%a2 aria-label=使用运算符进行筛选搜索>使用运算符进行筛选搜索</a><li><a href=#%e4%bd%bf%e7%94%a8%e5%a4%9a%e4%b8%aa%e8%bf%87%e6%bb%a4%e6%9d%a1%e4%bb%b6 aria-label=使用多个过滤条件>使用多个过滤条件</a><li><a href=#%e4%bd%bf%e7%94%a8%e9%80%9a%e9%85%8d%e7%ac%a6%e8%bf%9b%e8%a1%8c%e6%90%9c%e7%b4%a2 aria-label=使用通配符进行搜索>使用通配符进行搜索</a><li><a href=#%e6%89%a9%e5%b1%95%e8%bf%87%e6%bb%a4%e5%99%a8 aria-label=扩展过滤器>扩展过滤器</a><li><a href=#%e6%9f%a5%e6%89%beopenldap%e6%9c%8d%e5%8a%a1%e9%85%8d%e7%bd%ae aria-label=查找openldap服务配置>查找openldap服务配置</a></ul><li><a href=#%e6%9b%b4%e6%96%b0api-ldapmodify aria-label="更新API ldapmodify">更新API ldapmodify</a><li><a href=#%e5%88%a0%e9%99%a4api-ldapdelete aria-label="删除API ldapdelete">删除API ldapdelete</a><li><a href=#%e6%8f%92%e5%85%a5api-ldapadd aria-label="插入API ldapadd">插入API ldapadd</a><li><a href=#reference aria-label=Reference>Reference</a></li></div></details></div></aside><script src=/js/pe-toc.min.445eb1bfc5e85dd13b9519fcc2a806522e9629b6224a2974052789ba00ab78af.js integrity="sha256-RF6xv8XoXdE7lRn8wqgGUi6WKbYiSil0BSeJugCreK8="></script><div class=post-content><h2 id=ldapsearch>ldapsearch<a hidden class=anchor aria-hidden=true href=#ldapsearch>#</a></h2><h2 id=查询api-ldapsearch>查询api ldapsearch<a hidden class=anchor aria-hidden=true href=#查询api-ldapsearch>#</a></h2><h3 id=ldapsearch命令参数说明>ldapsearch命令参数说明<a hidden class=anchor aria-hidden=true href=#ldapsearch命令参数说明>#</a></h3><p>语法</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>text</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>ldapsearch  [options]  filter [attributes]</span></span></code></pre></td></tr></table></div></div></div></div><table><thead><tr><th style=text-align:center>参数</th><th>说 明</th></tr></thead><tbody><tr><td style=text-align:center>-W</td><td>指定密码，交互式，不需要在命令上写密码</td></tr><tr><td style=text-align:center>-w</td><td>指定密码，需要命令上指定密码</td></tr><tr><td style=text-align:center>-H</td><td>ldapapi</td></tr><tr><td style=text-align:center>-D</td><td>所绑定的服务器的DN，如<code>cn=admin,dc=etiantian,dc=org</code></td></tr><tr><td style=text-align:center>-f</td><td>-f: filename.ldif文件</td></tr><tr><td style=text-align:center>-b</td><td>-b 指定作为查询节点而不是默认的</td></tr><tr><td style=text-align:center>-LLL</td><td>以LDIF格式打印响应，不带注释</td></tr><tr><td style=text-align:center>-x</td><td>简单的认证</td></tr></tbody></table><h3 id=简单的搜索>简单的搜索<a hidden class=anchor aria-hidden=true href=#简单的搜索>#</a></h3><p>最简单的在查询ldap条目的最简单方法是使用带有 “<code>-x</code>” 选项进行简单身份验证，并使用 “<code>-b</code>” 指定搜索域。</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -b &lt;search_base&gt; -H &lt;ldap_host&gt;</span></span></code></pre></td></tr></table></div></div></div></div><p>例如向 10.0.0.3 上openldap服务查询，该命令需要服务器接受匿名身份验证，这将可以查询而无需绑定管理员帐户</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -b <span class=s2>&#34;dc=test,dc=com&#34;</span> -H ldap://10.0.0.3</span></span></code></pre></td></tr></table></div></div></div></div><h3 id=使用管理员账户进行搜索>使用管理员账户进行搜索<a hidden class=anchor aria-hidden=true href=#使用管理员账户进行搜索>#</a></h3><p>使用管理员帐户进行搜索，必须使用backend配置的 RootDN 并在命令行使用 “<code>-D</code>” 选项 和 “<code>-W</code>” ，如果要使用非交互式认证，使用选项 “<code>-w</code>”</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -b &lt;search_base&gt; -H &lt;ldap_host&gt; -D &lt;bind_dn&gt; -W</span></span></code></pre></td></tr></table></div></div></div></div><p>例如，上章在安装时配置了RootDN：“ <em>cn=admin,dc=test,dc=com</em> ”。如果要使用此帐户执行搜索，可以使用命令</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -b <span class=s2>&#34;dc=test,dc=com&#34;</span> -H ldap://10.0.0.3 -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -W </span></span></code></pre></td></tr></table></div></div></div></div><h3 id=使用过滤器进行搜索>使用过滤器进行搜索<a hidden class=anchor aria-hidden=true href=#使用过滤器进行搜索>#</a></h3><p>上述讲到的查询方法，是进行全局查询，会输出所有的条目，这样浪费了时间和资源，在大多数情况下，都希望查询以在特定的目录树中查找特定对象。而 ”过滤器“ filter 就是为了解决这个问题的。</p><p>要使用过滤器搜索，需要在 <code>ldapsearch</code> 命令的末尾附加 filter 公式：<code>&lt;object_class>=&lt;object_value></code></p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch &lt;previous_options&gt; <span class=s2>&#34;(object_type)=(object_value)&#34;</span> &lt;optional_attributes&gt;</span></span></code></pre></td></tr></table></div></div></div></div><p>例如查找所有对象，可以使用过滤器 <code>objectclass</code> 并且值为 ”<code>*</code>“ ，</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -b &lt;search_base&gt; -H &lt;ldap_host&gt; -D &lt;bind_dn&gt; -W <span class=s2>&#34;objectclass=*&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><h3 id=查找特定的用户>查找特定的用户<a hidden class=anchor aria-hidden=true href=#查找特定的用户>#</a></h3><p>如果查询目录树上的所有用户账户，如上一章初始化数据时，初始化的用户账户类为 ”posixAccount“ ，可以通过 ”posixAccount“ 来缩小查询范围</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ldapsearch -x -b &lt;search_base&gt; -H &lt;ldap_host&gt; -D &lt;bind_dn&gt; -W <span class=s2>&#34;objectclass=posixAccount&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><p>如果每个条目输出的内容多的情况下，也可以输出的属性值来进一步缩小搜索范围，例如只需要 <code>uid</code> 与 <code>gidNumber</code></p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -b <span class=s2>&#34;dc=test,dc=com&#34;</span> -H ldap://10.0.0.3 -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -w <span class=m>111</span> <span class=s2>&#34;objectclass=posixAccount&#34;</span> uid gidNumber
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: objectclass=posixAccount</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: uid gidNumber </span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># user01, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>user01,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>uid: user01
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># cylon, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>cylon,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>uid: cylon
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 3</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 2</span></span></span></code></pre></td></tr></table></div></div></div></div><h3 id=使用运算符进行筛选搜索>使用运算符进行筛选搜索<a hidden class=anchor aria-hidden=true href=#使用运算符进行筛选搜索>#</a></h3><p><code>ldapsearch</code> 可以使用多个过滤器，使用多个过滤器用运算符 “<code>AND</code>” 进行分割，需要注意的一点是，多个过滤器必须将所有条件括在括号中，并在查询的开头加一个 “<code>&</code>” 字。</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch &lt;previous_options&gt; <span class=s2>&#34;(&amp;(&lt;condition_1&gt;)(&lt;condition_2&gt;)...)&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><p>例如，查找具有 “<code>objectclass=posixAccount</code>” 与 “<code>uid=cylon</code>” 的条目，您将运行以下查询</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -b <span class=s2>&#34;dc=test,dc=com&#34;</span> -H ldap://10.0.0.3 -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -w <span class=m>111</span> <span class=s2>&#34;(&amp;(objectclass=posixAccount)(uid=cylon))&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: (&amp;(objectclass=posixAccount)(uid=cylon))</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># cylon, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>cylon,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixAccount
</span></span><span class=line><span class=cl>objectClass: inetOrgPerson
</span></span><span class=line><span class=cl>objectClass: organizationalPerson
</span></span><span class=line><span class=cl>objectClass: person
</span></span><span class=line><span class=cl>homeDirectory: /home/cylon
</span></span><span class=line><span class=cl>loginShell: /bin/bash
</span></span><span class=line><span class=cl>uid: cylon
</span></span><span class=line><span class=cl>cn: cylon
</span></span><span class=line><span class=cl>userPassword:: <span class=nv>e1NTSEF9MnB2RTRDNnh5OGRrbVcyYUQvZUVvY1Zhamc4QnVqV1c</span><span class=o>=</span>
</span></span><span class=line><span class=cl>uidNumber: <span class=m>10005</span>
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>sn: cylon
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 2</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 1</span></span></span></code></pre></td></tr></table></div></div></div></div><p>也可以使用或运算符 ” <code>OR</code> “，使多个 “<code>OR</code>” 运算符，需要所有条件括在括号内，并使用符号 “ <code>|</code> ” 写在过滤条件开头。</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch &lt;previous_options&gt; <span class=s2>&#34;(|(&lt;condition_1&gt;)(&lt;condition_2&gt;)...)&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><p>例如，搜索 <code>uid=user01</code> 或者 <code>uid=zhangsan</code> 的用户</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -H ldap://10.0.0.3 -w <span class=m>111</span> -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -b <span class=s2>&#34;dc=test,dc=com&#34;</span> <span class=s1>&#39;(|(uid=user01)(uid=zhangsan))&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: (|(uid=user01)(uid=zhangsan))</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># user01, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>user01,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixAccount
</span></span><span class=line><span class=cl>objectClass: inetOrgPerson
</span></span><span class=line><span class=cl>objectClass: organizationalPerson
</span></span><span class=line><span class=cl>objectClass: person
</span></span><span class=line><span class=cl>homeDirectory: /home/user01
</span></span><span class=line><span class=cl>loginShell: /bin/bash
</span></span><span class=line><span class=cl>uid: user01
</span></span><span class=line><span class=cl>cn: user01
</span></span><span class=line><span class=cl>uidNumber: <span class=m>10004</span>
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>userPassword:: <span class=nv>e1NTSEF9aEpwSUlWeGoxcVM5ZzA1cVVsZ0crbzdNTzE0RVhiRlE</span><span class=o>=</span>
</span></span><span class=line><span class=cl>sn: user01
</span></span><span class=line><span class=cl>givenName: user01
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 2</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 1</span></span></span></code></pre></td></tr></table></div></div></div></div><p>也可以使用 “非” 运算符 ” <code>!</code> “，使多个 “<code>!</code>” 运算符，需要所有条件括在括号内，并使用符号 “ <code>!</code> ” 写在过滤条件开头。</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch &lt;previous_options&gt; <span class=s2>&#34;(!(&lt;condition_1&gt;)(&lt;condition_2&gt;)...)&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><p>例如，匹配 <code>uid</code> 不为 <code>zhangsan</code> 的用户</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -H ldap://10.0.0.3 -w <span class=m>111</span> -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -b <span class=s2>&#34;dc=test,dc=com&#34;</span> <span class=s1>&#39;(!(uid=zhangsan))&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: (!(uid=user01))</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>dc</span><span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: top
</span></span><span class=line><span class=cl>objectClass: organizationalUnit
</span></span><span class=line><span class=cl>objectClass: extensibleObject
</span></span><span class=line><span class=cl>description: US Organization
</span></span><span class=line><span class=cl>ou: people
</span></span><span class=line><span class=cl>dc: <span class=nb>test</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>ou</span><span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: organizationalUnit
</span></span><span class=line><span class=cl>ou: group
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># tech, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>cn</span><span class=o>=</span>tech,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixGroup
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>cn: tech
</span></span><span class=line><span class=cl>memberUid: user01
</span></span><span class=line><span class=cl>memberUid: cylon
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># cylon, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>cylon,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixAccount
</span></span><span class=line><span class=cl>objectClass: inetOrgPerson
</span></span><span class=line><span class=cl>objectClass: organizationalPerson
</span></span><span class=line><span class=cl>objectClass: person
</span></span><span class=line><span class=cl>homeDirectory: /home/cylon
</span></span><span class=line><span class=cl>loginShell: /bin/bash
</span></span><span class=line><span class=cl>uid: cylon
</span></span><span class=line><span class=cl>cn: cylon
</span></span><span class=line><span class=cl>userPassword:: <span class=nv>e1NTSEF9MnB2RTRDNnh5OGRrbVcyYUQvZUVvY1Zhamc4QnVqV1c</span><span class=o>=</span>
</span></span><span class=line><span class=cl>uidNumber: <span class=m>10005</span>
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>sn: cylon
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 5</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 4</span></span></span></code></pre></td></tr></table></div></div></div></div><h3 id=使用多个过滤条件>使用多个过滤条件<a hidden class=anchor aria-hidden=true href=#使用多个过滤条件>#</a></h3><p>多个过滤条件可以使用 <code>()</code> 括起来所有的过滤条件</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch &lt;previous_options&gt; <span class=s2>&#34;(|(&lt;condition_1&gt;)(&lt;condition_2&gt;)...)&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><h3 id=使用通配符进行搜索>使用通配符进行搜索<a hidden class=anchor aria-hidden=true href=#使用通配符进行搜索>#</a></h3><p>除了运算符，还有一种高校过滤器就是通配符 “<code>*</code>” 这使得 <code>ldapsearch</code> 过滤器拥有一些正则表达式功能</p><p>使用通配符，只需要对应的查询条件字符串结尾或开头加上 “<code>*</code>” 即可</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch &lt;previous_options&gt; <span class=s2>&#34;(object_type)=*(object_value)&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ ldapsearch &lt;previous_options&gt; <span class=s2>&#34;(object_type)=(object_value)*&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><p>例如查询 <code>uid</code> 以 “<code>c</code>” 开头的用户</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -H ldap://10.0.0.3 -w <span class=m>111</span> -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -b <span class=s2>&#34;dc=test,dc=com&#34;</span> <span class=s1>&#39;(uid=c*)&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: (uid=c*)</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># cylon, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>cylon,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixAccount
</span></span><span class=line><span class=cl>objectClass: inetOrgPerson
</span></span><span class=line><span class=cl>objectClass: organizationalPerson
</span></span><span class=line><span class=cl>objectClass: person
</span></span><span class=line><span class=cl>homeDirectory: /home/cylon
</span></span><span class=line><span class=cl>loginShell: /bin/bash
</span></span><span class=line><span class=cl>uid: cylon
</span></span><span class=line><span class=cl>cn: cylon
</span></span><span class=line><span class=cl>userPassword:: <span class=nv>e1NTSEF9MnB2RTRDNnh5OGRrbVcyYUQvZUVvY1Zhamc4QnVqV1c</span><span class=o>=</span>
</span></span><span class=line><span class=cl>uidNumber: <span class=m>10005</span>
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>sn: cylon
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 2</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 1</span></span></span></code></pre></td></tr></table></div></div></div></div><h3 id=扩展过滤器>扩展过滤器<a hidden class=anchor aria-hidden=true href=#扩展过滤器>#</a></h3><p>可以由符合 “ <code>:</code> ”隔的其他过滤器，例如区分大小写与不区分大小写</p><ul><li><code>CaseIgnoreMatch </code>不区分大小写</li><li><code>cn:caseExactMatch</code> 区分大小写</li><li></li></ul><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -H ldap://10.0.0.3 -w <span class=m>111</span> -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -b <span class=s2>&#34;dc=test,dc=com&#34;</span>  <span class=s2>&#34;cn:CaseIgnoreMatch:=USER01&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: cn:CaseIgnoreMatch:=USER01</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># user01, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>user01,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixAccount
</span></span><span class=line><span class=cl>objectClass: inetOrgPerson
</span></span><span class=line><span class=cl>objectClass: organizationalPerson
</span></span><span class=line><span class=cl>objectClass: person
</span></span><span class=line><span class=cl>homeDirectory: /home/user01
</span></span><span class=line><span class=cl>loginShell: /bin/bash
</span></span><span class=line><span class=cl>uid: user01
</span></span><span class=line><span class=cl>cn: user01
</span></span><span class=line><span class=cl>uidNumber: <span class=m>10004</span>
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>userPassword:: <span class=nv>e1NTSEF9aEpwSUlWeGoxcVM5ZzA1cVVsZ0crbzdNTzE0RVhiRlE</span><span class=o>=</span>
</span></span><span class=line><span class=cl>sn: user01
</span></span><span class=line><span class=cl>givenName: user01
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 2</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 1</span></span></span></code></pre></td></tr></table></div></div></div></div><p>例如类似值搜索</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -H ldap://10.0.0.3 -w <span class=m>111</span> -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -b <span class=s2>&#34;dc=test,dc=com&#34;</span>  <span class=s2>&#34;givenName~=usr01&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: givenName~=usr011</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># user01, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>user01,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixAccount
</span></span><span class=line><span class=cl>objectClass: inetOrgPerson
</span></span><span class=line><span class=cl>objectClass: organizationalPerson
</span></span><span class=line><span class=cl>objectClass: person
</span></span><span class=line><span class=cl>homeDirectory: /home/user01
</span></span><span class=line><span class=cl>loginShell: /bin/bash
</span></span><span class=line><span class=cl>uid: user01
</span></span><span class=line><span class=cl>cn: user01
</span></span><span class=line><span class=cl>uidNumber: <span class=m>10004</span>
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>userPassword:: <span class=nv>e1NTSEF9aEpwSUlWeGoxcVM5ZzA1cVVsZ0crbzdNTzE0RVhiRlE</span><span class=o>=</span>
</span></span><span class=line><span class=cl>sn: user01
</span></span><span class=line><span class=cl>givenName: user01
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 2</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 1</span></span></span></code></pre></td></tr></table></div></div></div></div><h3 id=查找openldap服务配置>查找openldap服务配置<a hidden class=anchor aria-hidden=true href=#查找openldap服务配置>#</a></h3><p><code>ldapsearch</code> 命令有一种高级用法是查询 <code>slapd</code> 服务的配置。要进行这种搜索，必须使用选项 “<code>-Y</code>” 并指定 关键字 “<code>EXTERNAL</code>” 作为身份验证机制。</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -Y EXTERNAL -H ldapi:/// -b <span class=nv>cn</span><span class=o>=</span>config </span></span></code></pre></td></tr></table></div></div></div></div><p>例如</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -Y EXTERNAL -H ldapi:/// -b <span class=nv>cn</span><span class=o>=</span>config
</span></span><span class=line><span class=cl>SASL/EXTERNAL authentication started
</span></span><span class=line><span class=cl>SASL username: <span class=nv>gidNumber</span><span class=o>=</span>0+uidNumber<span class=o>=</span>0,cn<span class=o>=</span>peercred,cn<span class=o>=</span>external,cn<span class=o>=</span>auth
</span></span><span class=line><span class=cl>SASL SSF: <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;cn=config&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: (objectclass=*)</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># config</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>cn</span><span class=o>=</span>config
</span></span><span class=line><span class=cl>objectClass: olcGlobal
</span></span><span class=line><span class=cl>cn: config
</span></span><span class=line><span class=cl>olcArgsFile: /var/run/openldap/slapd.args
</span></span><span class=line><span class=cl>olcDisallows: bind_anon
</span></span><span class=line><span class=cl>olcLogLevel: stats
</span></span><span class=line><span class=cl>olcPidFile: /var/run/openldap/slapd.pid
</span></span><span class=line><span class=cl>olcTLSCACertificatePath: /etc/openldap/certs
</span></span><span class=line><span class=cl>olcTLSCertificateFile: <span class=s2>&#34;OpenLDAP Server&#34;</span>
</span></span><span class=line><span class=cl>olcTLSCertificateKeyFile: /etc/openldap/certs/password
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># schema, config</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>cn</span><span class=o>=</span>schema,cn<span class=o>=</span>config
</span></span><span class=line><span class=cl>objectClass: olcSchemaConfig
</span></span><span class=line><span class=cl>cn: schema
</span></span><span class=line><span class=cl>olcObjectIdentifier: OLcfg 1.3.6.1.4.1.4203.1.12.2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># {1}collective, schema, config</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>cn</span><span class=o>={</span>1<span class=o>}</span>collective,cn<span class=o>=</span>schema,cn<span class=o>=</span>config
</span></span><span class=line><span class=cl>objectClass: olcSchemaConfig
</span></span><span class=line><span class=cl>cn: <span class=o>{</span>1<span class=o>}</span>collective
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># {-1}frontend, config</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>olcDatabase</span><span class=o>={</span>-1<span class=o>}</span>frontend,cn<span class=o>=</span>config
</span></span><span class=line><span class=cl>objectClass: olcDatabaseConfig
</span></span><span class=line><span class=cl>objectClass: olcFrontendConfig
</span></span><span class=line><span class=cl>olcDatabase: <span class=o>{</span>-1<span class=o>}</span>frontend
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># {0}config, config</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>olcDatabase</span><span class=o>={</span>0<span class=o>}</span>config,cn<span class=o>=</span>config
</span></span><span class=line><span class=cl>objectClass: olcDatabaseConfig
</span></span><span class=line><span class=cl>olcDatabase: <span class=o>{</span>0<span class=o>}</span>config
</span></span><span class=line><span class=cl>olcAccess: <span class=o>{</span>0<span class=o>}</span>to <span class=nv>attrs</span><span class=o>=</span>userPassword,shadowLastChange   by dn.children<span class=o>=</span><span class=s2>&#34;cn=admi
</span></span></span><span class=line><span class=cl><span class=s2> n,dc=test,dc=com&#34;</span> write   by anonymous auth   by self write   by * none
</span></span><span class=line><span class=cl>olcAccess: <span class=o>{</span>1<span class=o>}</span>to * by dn.base<span class=o>=</span><span class=s2>&#34;gidNumber=0+uidNumber=0,cn=peercred,cn=external
</span></span></span><span class=line><span class=cl><span class=s2> ,cn=auth&#34;</span> manage   by group.exact<span class=o>=</span><span class=s2>&#34;cn=configadmin,ou=admin,dc=seal,dc=com&#34;</span> wr
</span></span><span class=line><span class=cl> ite   by * none
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># {1}monitor, config</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>olcDatabase</span><span class=o>={</span>1<span class=o>}</span>monitor,cn<span class=o>=</span>config
</span></span><span class=line><span class=cl>objectClass: olcDatabaseConfig
</span></span><span class=line><span class=cl>olcDatabase: <span class=o>{</span>1<span class=o>}</span>monitor
</span></span><span class=line><span class=cl>olcAccess: <span class=o>{</span>0<span class=o>}</span>to * by dn.base<span class=o>=</span><span class=s2>&#34;gidNumber=0+uidNumber=0,cn=peercred,cn=external
</span></span></span><span class=line><span class=cl><span class=s2> ,cn=auth&#34;</span> <span class=nb>read</span> by dn.base<span class=o>=</span><span class=s2>&#34;cn=Manager,dc=my-domain,dc=com&#34;</span> <span class=nb>read</span> by * none
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># {2}mdb, config</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>olcDatabase</span><span class=o>={</span>2<span class=o>}</span>mdb,cn<span class=o>=</span>config
</span></span><span class=line><span class=cl>objectClass: olcDatabaseConfig
</span></span><span class=line><span class=cl>objectClass: olcMdbConfig
</span></span><span class=line><span class=cl>olcDatabase: <span class=o>{</span>2<span class=o>}</span>mdb
</span></span><span class=line><span class=cl>olcDbDirectory: /var/lib/ldap
</span></span><span class=line><span class=cl>olcSuffix: <span class=nv>dc</span><span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>olcRootDN: <span class=nv>cn</span><span class=o>=</span>admin,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>olcRootPW: <span class=o>{</span>SSHA<span class=o>}</span>xU9xFym/s7rawpmzpsYE+Q1qPsVPOwDw
</span></span><span class=line><span class=cl>olcDbCheckpoint: <span class=m>1024</span> <span class=m>10</span>
</span></span><span class=line><span class=cl>olcDbIndex: objectClass eq,pres
</span></span><span class=line><span class=cl>olcDbIndex: uid,ou,cn,mail,surname,givenname eq,pres,sub
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 20</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 19</span></span></span></code></pre></td></tr></table></div></div></div></div><blockquote><p>Notes：这种查询命令需要直接在slapd服务对应节点上运行。</p></blockquote><p>这类搜索也可以使用过滤器，例如指定搜索数据库的配置</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -Y EXTERNAL -H ldapi:/// -b <span class=nv>cn</span><span class=o>=</span>config <span class=s2>&#34;(objectclass=olcDatabaseConfig)&#34;</span></span></span></code></pre></td></tr></table></div></div></div></div><h2 id=更新api-ldapmodify>更新API ldapmodify<a hidden class=anchor aria-hidden=true href=#更新api-ldapmodify>#</a></h2><p><code>ldapmodify</code> 有两个参数来指定如何修改数据：</p><ul><li><code>replace</code> 要修改的字段</li><li><code>changetype: modify</code> 模式为修改模式</li><li><code>dn</code> 对那个条目进行搜索，RootDN的后缀，对于每个条目例如，user 为 <code>uid=&lt;>,ou=&lt;>,dc=test,dc=com</code></li></ul><p>例如下面命令是将 cylon用户的uid更改为10010</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cat <span class=s>&lt;&lt; EOF | ldapmodify -r  -H ldap://10.0.0.3 -D &#34;cn=admin,dc=test,dc=com&#34; -w 111
</span></span></span><span class=line><span class=cl><span class=s>dn: uid=cylon,ou=Group,dc=test,dc=com
</span></span></span><span class=line><span class=cl><span class=s>changetype: modify
</span></span></span><span class=line><span class=cl><span class=s>replace: uidNumber
</span></span></span><span class=line><span class=cl><span class=s>uidNumber: 10010
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></td></tr></table></div></div></div></div><h2 id=删除api-ldapdelete>删除API ldapdelete<a hidden class=anchor aria-hidden=true href=#删除api-ldapdelete>#</a></h2><p>删除API与更新API类似，不过内容只需要一个 <code>dn</code> （这个dn是隐式的，不用单独声明字段），例如删除用户cylon</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat <span class=s>&lt;&lt; EOF | ldapdelete -r  -H ldap://10.0.0.3 -D &#34;cn=admin,dc=test,dc=com&#34; -w 111
</span></span></span><span class=line><span class=cl><span class=s>uid=cylon,ou=Group,dc=test,dc=com
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></td></tr></table></div></div></div></div><p>使用 <code>ldapmodify</code> 删除条目，只要吧 <code>changetype: delete</code> 在加上显式声明的 <code>dn</code> 也可以删除条目，例如</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ldapsearch -x -H ldap://10.0.0.3 -w <span class=m>111</span> -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -b <span class=s2>&#34;dc=test,dc=com&#34;</span> <span class=nv>uid</span><span class=o>=</span>cylon  
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: uid=cylon</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># cylon, group, test.com</span>
</span></span><span class=line><span class=cl>dn: <span class=nv>uid</span><span class=o>=</span>cylon,ou<span class=o>=</span>group,dc<span class=o>=</span>test,dc<span class=o>=</span>com
</span></span><span class=line><span class=cl>objectClass: posixAccount
</span></span><span class=line><span class=cl>objectClass: inetOrgPerson
</span></span><span class=line><span class=cl>objectClass: organizationalPerson
</span></span><span class=line><span class=cl>objectClass: person
</span></span><span class=line><span class=cl>homeDirectory: /home/cylon
</span></span><span class=line><span class=cl>loginShell: /bin/bash
</span></span><span class=line><span class=cl>uid: cylon
</span></span><span class=line><span class=cl>cn: cylon
</span></span><span class=line><span class=cl>userPassword:: <span class=nv>e1NTSEF9MnB2RTRDNnh5OGRrbVcyYUQvZUVvY1Zhamc4QnVqV1c</span><span class=o>=</span>
</span></span><span class=line><span class=cl>uidNumber: <span class=m>10005</span>
</span></span><span class=line><span class=cl>gidNumber: <span class=m>10001</span>
</span></span><span class=line><span class=cl>sn: cylon
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 2</span>
</span></span><span class=line><span class=cl><span class=c1># numEntries: 1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ cat <span class=s>&lt;&lt; EOF | ldapmodify -r  -H ldap://10.0.0.3 -D &#34;cn=admin,dc=test,dc=com&#34; -w 111
</span></span></span><span class=line><span class=cl><span class=s>dn: uid=cylon,ou=Group,dc=test,dc=com
</span></span></span><span class=line><span class=cl><span class=s>changetype: delete
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>deleting entry <span class=s2>&#34;uid=cylon,ou=Group,dc=test,dc=com&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ ldapsearch -x -H ldap://10.0.0.3 -w <span class=m>111</span> -D <span class=s2>&#34;cn=admin,dc=test,dc=com&#34;</span> -b <span class=s2>&#34;dc=test,dc=com&#34;</span> <span class=nv>uid</span><span class=o>=</span>cylon  
</span></span><span class=line><span class=cl><span class=c1># extended LDIF</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># LDAPv3</span>
</span></span><span class=line><span class=cl><span class=c1># base &lt;dc=test,dc=com&gt; with scope subtree</span>
</span></span><span class=line><span class=cl><span class=c1># filter: uid=cylon</span>
</span></span><span class=line><span class=cl><span class=c1># requesting: ALL</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># search result</span>
</span></span><span class=line><span class=cl>search: <span class=m>2</span>
</span></span><span class=line><span class=cl>result: <span class=m>0</span> Success
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># numResponses: 1</span></span></span></code></pre></td></tr></table></div></div></div></div><h2 id=插入api-ldapadd>插入API ldapadd<a hidden class=anchor aria-hidden=true href=#插入api-ldapadd>#</a></h2><p><code>ldapapp</code> 使用起来比较复杂，在添加时，区分与RootDN，子条目，并且属性相关都需要配置对</p><p>下列时增加一个用户</p><div class="pe-code-block-wrap pe-code-details open scrollable"><div class="pe-code-block-header pe-code-details-summary"><div class=pe-code-block-header-left><i class="arrow fas fa-chevron-right fa-fw pe-code-details-icon" aria-hidden=true></i>
<span>bash</span></div><div class=pe-code-block-header-center><span></span></div><div class=pe-code-block-header-right><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i>
<button class=pe-code-copy-button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentcolor" fill-rule="evenodd" d="M7 5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-2v2a3 3 0 01-3 3H5a3 3 0 01-3-3v-9a3 3 0 013-3h2zm2 2h5a3 3 0 013 3v5h2a1 1 0 001-1V5a1 1 0 00-1-1h-9A1 1 0 009 5zM5 9a1 1 0 00-1 1v9a1 1 0 001 1h9a1 1 0 001-1v-9a1 1 0 00-1-1z" clip-rule="evenodd"/></svg></button></div></div><div class="pe-code-details-content scrollable"><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat <span class=s>&lt;&lt; EOF | ldapadd -x -H ldap://10.0.0.3 -D &#34;cn=admin,dc=test,dc=com&#34; -w 111
</span></span></span><span class=line><span class=cl><span class=s>dn: uid=cylon,ou=Group,dc=test,dc=com
</span></span></span><span class=line><span class=cl><span class=s>objectClass: posixAccount
</span></span></span><span class=line><span class=cl><span class=s>objectClass: inetOrgPerson
</span></span></span><span class=line><span class=cl><span class=s>objectClass: organizationalPerson
</span></span></span><span class=line><span class=cl><span class=s>objectClass: person
</span></span></span><span class=line><span class=cl><span class=s>homeDirectory: /home/cylon
</span></span></span><span class=line><span class=cl><span class=s>loginShell: /bin/bash
</span></span></span><span class=line><span class=cl><span class=s>uid: cylon
</span></span></span><span class=line><span class=cl><span class=s>cn: cylon
</span></span></span><span class=line><span class=cl><span class=s>userPassword: {SSHA}2pvE4C6xy8dkmW2aD/eEocVajg8BujWW
</span></span></span><span class=line><span class=cl><span class=s>uidNumber: 10005
</span></span></span><span class=line><span class=cl><span class=s>gidNumber: 10001
</span></span></span><span class=line><span class=cl><span class=s>sn: cylon
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></td></tr></table></div></div></div></div><h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h2><blockquote><p><sup id=1>[1]</sup> <a href=https://docs.oracle.com/cd/E19693-01/819-0995/6n3cq3apv/index.html target=_blank rel="noopener nofollow noreferrer"><em><strong>Managing Entries ldapmodify and ldapdelete</strong></em></a></p><p><sup id=2>[2]</sup> <a href=https://devconnected.com/how-to-search-ldap-using-ldapsearch-examples/ target=_blank rel="noopener nofollow noreferrer"><em><strong>How To Search LDAP using ldapsearch</strong></em></a></p></blockquote></div><div class=pe-copyright><hr><blockquote><p>本文为原创内容，版权归作者所有。如需转载，请在文章中声明本文标题及链接。</p><p>文章标题：理解ldap - OpenLDAP客户端命令行使用</p><p>文章链接：<a href=https://www.oomkill.com/2019/08/ch3-commandline/ target=_blank>https://www.oomkill.com/2019/08/ch3-commandline/</a></p><p>许可协议：<a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></p></blockquote></div><div class=comments-separator></div><h3 class=relatedContentTitle>相关阅读</h3><ul class=relatedContent><li><a href=/2019/08/ch2-install/><span>理解ldap - OpenLDAP安装</span></a></li><li><a href=/2019/08/ch1-understanding-ldap/><span>理解ldap - 什么是ldap</span></a></li><li><a href=/2017/05/rsync/><span>同步工具rsync使用指南</span></a></li><li><a href=/2017/05/ch8-mysql-engine/><span>ch08 - MySQL存储引擎</span></a></li><li><a href=/2017/05/ch7-mysql-non-interact/><span>ch07 - 实现和MySQL非交互式对话</span></a></li></ul><div class=comments-separator></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.oomkill.com/tags/ldap/>Ldap</a></li><li><a href=https://www.oomkill.com/tags/databases/>Databases</a></li></ul><nav class=paginav><a class=prev href=https://www.oomkill.com/2019/09/ch4-schema/><span class=title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select:text"><line x1="19" y1="12" x2="5" y2="12" style="user-select:text"/><polyline points="12 19 5 12 12 5" style="user-select:text"/></polyline></svg>&nbsp;</span>
<span>理解ldap配置 - OpenLDAP架构与Schema设计</span>
</a><a class=next href=https://www.oomkill.com/2019/08/ch2-install/><span class=title></span>
<span>理解ldap - OpenLDAP安装&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg></span></a></nav></footer><div class=pe-comments-decoration><p class=pe-comments-title></p><p class=pe-comments-subtitle></p></div><div id=pe-comments></div><script src=/js/pe-go-comment.min.86a214102576ba5f9b7bdc29eed8d58dd56e34aef80b3c65c73ea9cc88443696.js integrity="sha256-hqIUECV2ul+be9wp7tjVjdVuNK74Czxlxz6pzIhENpY="></script><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const s={src:"https://giscus.app/client.js","data-repo":"cylonchau/cylonchau.github.io","data-repo-id":"R_kgDOIRlNSQ","data-category":"Announcements","data-category-id":"DIC_kwDOIRlNSc4CXy1U","data-mapping":"pathname","data-term":"posts/ch3 commandline","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":getStoredTheme(),"data-lang":"zh-TW","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(s).forEach(([t,n])=>e.setAttribute(t,n)),document.querySelector("#pe-comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme);const n=document.querySelector("#theme-toggle-float");n&&n.addEventListener("click",setGiscusTheme)})</script></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.oomkill.com/>Cylon's Collection</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> on
<a href=https://pages.github.com/ rel=noopener target=_blank>GitHub Pages</a> & Theme
        <a href=https://github.com/tofuwine/PaperMod-PE rel=noopener target=_blank>PaperMod-PE</a></span></footer><div class=pe-right-sidebar><a href=javascript:void(0); id=theme-toggle-float class=pe-float-btn><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</a><a href=#top class=pe-float-btn id=top-link><span id=pe-read-progress></span></a></div><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>